<div class="container padre d-flex flex-column justify-content-center">
  <div class="input-group mb-3">
    <input
      type="text"
      class="form-control"
      placeholder="Filtrar por paciente ó especialidad"
      [(ngModel)]="filtro"
      (input)="filtrar()"
    />
    <span class="input-group-text" id="basic-addon2"
      ><i class="fa-solid fa-magnifying-glass fa-lg"></i
    ></span>
  </div>

  <table class="table table-hover flex-row">
    <thead>
      <tr class="table-primary">
        @for (item of this.th; track $index) { @if($index === th.length-1) {
        <th scope="col" class="text-center">{{ item | titlecase }}</th>
        } @else {
        <th scope="col">{{ item | titlecase }}</th>
        } }
      </tr>
    </thead>
    <tbody>
      @for (item of filtro_data; track $index) { @if(pacientes[$index]){
      <tr>
        <td>
          {{ getNamePaciente(pacientes[$index]) | titlecase }}
        </td>
        <td>{{ pacientes[$index].edad }}</td>
        <td>{{ pacientes[$index].mail | titlecase }}</td>
        <td>{{ pacientes[$index].obra_social | titlecase }}</td>
        <td>{{ item.especialidad | titlecase }}</td>
        <td>{{ item.fecha | date : "dd/MM/yyyy" }}</td>
        <td>{{ item.hora }}hs</td>
        <td>{{ item.estado | titlecase }}</td>
        <td class="d-flex justify-content-around">
          @for (acc of item.acciones; track $index) { @switch (acc) { @case
          ('Rechazar') {
          <button class="btn btn-secondary" (click)="rechazar(item)">
            {{ acc | titlecase }}
          </button>
          } @case ('Cancelar') {
          <button class="btn btn-danger" (click)="cancelar(item)">
            {{ acc | titlecase }}
          </button>
          } @case ('Ver reseña') {
          <button class="btn btn-info" (click)="verResenia(item)">
            {{ acc | titlecase }}
          </button>
          } @case ('Aceptar') {
          <button class="btn btn-primary" (click)="aceptar(item)">
            {{ acc | titlecase }}
          </button>
          } @case ('Finalizar') {
          <button class="btn btn-success" (click)="finalizar(item)">
            {{ acc | titlecase }}
          </button>
          } } }
        </td>
      </tr>
      } }
    </tbody>
  </table>
</div>
